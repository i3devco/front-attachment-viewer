<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Front Attachment Viewer</title>
  <style>
    :root{
      --bg: #ffffff;
      --panel: #fbfdff;
      --muted: #6b6b6b;
      --text: #0f1720;
      --accent: #1f6ef0; 
      --accent-dark: #155ed6;
      --card-shadow: 0 8px 24px rgba(18,22,26,0.06);
      --radius: 12px;
      --ui-gap: 12px;
    }

    html,body{
      margin:0;
      padding:0;
      width: 300px;
      min-width: 300px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      box-sizing:border-box;
    }

    .wrap{
      padding:14px;
    }

    .header {
      display:flex;
      flex-direction:column;
      gap:6px;
      margin-bottom:8px;
    }

    .app-title {
      font-size:15px;
      font-weight:700;
      margin:0;
      color:var(--text);
    }

    .app-sub {
      font-size:12px;
      color:var(--muted);
      margin:0;
    }

    .status-card {
      background: linear-gradient(180deg, var(--panel), #ffffff);
      border-radius: var(--radius);
      padding:14px;
      box-shadow: var(--card-shadow);
      border:1px solid rgba(21,28,40,0.04);
      margin-bottom:12px;
      display:flex;
      gap:12px;
      align-items:center;
    }

    .status-badge {
      min-width:64px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
    }

    .status-indicator {
      width:14px;
      height:14px;
      border-radius:50%;
      box-shadow: 0 2px 6px rgba(16,20,24,0.06);
      flex-shrink:0;
    }

    .status-active .status-indicator { background: #17c964; }
    .status-inactive .status-indicator { background: #ff5b5b; }
    .status-error .status-indicator { background: #ff8a00; }

    .status-main {
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
      overflow:hidden;
    }

    .status-title {
      font-size:15px;
      font-weight:700;
      margin:0;
      color:var(--text);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .status-desc {
      font-size:12px;
      color:var(--muted);
      margin:0;
      line-height:1.3;
      word-break: break-word; /* wrap long tokens */
      overflow-wrap: anywhere;
    }

    /* subtle meta row */
    .meta {
      font-size:11px;
      color:var(--muted);
      text-align:center;
      margin-top:6px;
    }

    /* actions */
    .actions {
      display:flex;
      gap:8px;
      margin-top:8px;
      align-items:center;
    }

    .btn {
      -webkit-appearance:none;
      appearance:none;
      border:0;
      padding:9px 12px;
      font-size:13px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      line-height:1;
    }

    .btn-refresh {
      background: linear-gradient(180deg, var(--accent), var(--accent-dark));
      color:#fff;
      box-shadow: 0 8px 18px rgba(31,110,240,0.12);
      flex:1;
      text-align:center;
    }

    /* small helper text row */
    .helper {
      margin-top:10px;
      font-size:11px;
      color:var(--muted);
      text-align:center;
    }

    /* ensure popup never overflows horizontally */
    * { box-sizing:border-box; }

    @media (max-width: 280px) {
      html,body { width:100%; }
      .wrap { padding:10px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header" role="banner">
      <div class="app-title">Front Attachment Viewer</div>
      <div class="app-sub">Attachment tools for Front</div>
    </div>

    <div id="statusCard" class="status-card status-inactive" role="status" aria-live="polite" aria-atomic="true">
      <div class="status-badge">
        <div class="status-indicator" aria-hidden="true"></div>
        <div id="stateShort" style="font-size:11px;color:var(--muted);">Not working</div>
      </div>

      <div class="status-main">
        <div class="status-title" id="statusTitle">Not working</div>
        <div class="status-desc" id="statusDesc">No Front tab detected. Open frontapp.com to enable the extension. The status updates when you change tabs.</div>
      </div>
    </div>

    <div class="actions" role="group" aria-label="Actions">
      <button id="refreshBtn" class="btn btn-refresh" title="Refresh status">Refresh</button>
    </div>

    <div class="meta">Version 1.4.0</div>
    <div class="helper">Status updates when you focus a Front tab. Click Refresh to force a check.</div>
    
    <div class="helper" style="margin-top:12px;padding-top:10px;border-top:1px solid rgba(0,0,0,0.06);">
      <strong>Disclaimer:</strong> This is an unofficial plugin. All icons and Front branding belong to Front.
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
